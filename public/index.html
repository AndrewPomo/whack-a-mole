<!DOCTYPE html>
<html>
<head>
	<title>Bieber Beater</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=VT323' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Orbitron:900' rel='stylesheet' type='text/css'>
	<style type="text/css">
	body {
		font-family: Open Sans;
	}

	.mainContainer {
		width:100%;
	}

	input	{
		background-color: white;
		border:none;
		font-size: 20px;
		font-weight: bold;
		color:black;
		width:100px;
		z-index:1000;
		float:left;
	}

	.inputLabel {
		float:left;
		font-size: 20px;
		margin-bottom: 0px;
	}

	.title {
		font-family:Open Sans;
	}

	.gameArea {
		width:500px;
		background-color: #611369;
		top:30px;
		margin:auto;
		position:relative;

	}

	#topRow {
		background-color: #611369;
	}

	.gameRow {
		width:500px;
	}

	.blocker {
		background-color: #611369;
		width:100%;
		height:177px;
		position: absolute;
		top:50px;
		left:0px;
	}

	#bottomBlocker, #middleBlocker {
		height:150px;
	}


	#topRow	{
		position:absolute;
		z-index: 0;
	}

	.activeBieber {
		position:relative;
	}

	#topRow .topHalf	{
		z-index: 1
	}

	#topRow  .activeBieber	{
		z-index: 2;
	}

	#topRow .blocker {
		z-index:3;
	}

	#topRow .bottomHalf	{
		z-index: 4
	}

	#middleRow	{
		position:absolute;
		top: 100px;
		z-index: 50
	}

	#middleRow  .topHalf	{
		z-index: 51
	}

	#middleRow .activeBieber	{
		z-index: 52;
	}

	#middleRow .blocker {
		z-index:53;
	}

	#middleRow  .bottomHalf	{
		z-index: 54
	}

	#bottomRow	{
		position:absolute;
		top: 200px;
		z-index: 100
	}

	#bottomRow .topHalf	{
		z-index: 101
	}

	#bottomRow .activeBieber	{
		z-index: 102;
	}

	#bottomRow .blocker {
		z-index:103;
	}

	#bottomRow .bottomHalf	{
		z-index: 104
	}

	.bieberPit {
		float:left;
		margin:10px;
		margin-left:11.671px;
	}

	.menu	{
		position:relative;
		top:310px;
		z-index:1000;
		background-color: white;
	}

	.topHalf {
	    background-color: black;
	    width: 145px;
	    height: 40px;
	    border-radius: 50% / 100%;
	    border-bottom-left-radius: 0;
	    border-bottom-right-radius: 0;
	    position:relative;
	}

	.bottomHalf {
	    background-color: black;
	    width: 145px;
	    height: 40px;
	    border-radius: 50% / 100%;
	    border-top-left-radius: 0;
	    border-top-right-radius: 0;
	    position:relative;
	}

	.startBtn {
		margin-top:5px;
		font-family:VT323;
		font-size: 16px;
		background-color: white;
	}

	.fist {
		position:absolute;
		right: -1000px;
		top:-50px;
		z-index: 9999999999
	}

	button:focus {
    background-color: none;
    outline: 0;
    -webkit-box-shadow: none;
          box-shadow: none;
	}
	

	</style>
</head>
<body>
	<audio id="punch">
			<source src="/sound/punch.mp3" type="audio/mp3">
	</audio>
	<div class="container mainContainer">
		<h1 class="title center-block text-center">Bieber Beater</h1>
		<div class="gameArea center-block">
			<div class="gameRow row center-block" id='topRow'>
				<img class="fist" id="topFist" src="/img/fist.png">
				<div class="bieberPit" id="bieberPitOne">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
				</div>
				<div class="bieberPit" id="bieberPitTwo">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
					<div class="blocker center-block "></div>
				</div>
				<div class="bieberPit" id="bieberPitThree">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
				</div>
			</div>
			<div class="gameRow row center-block" id='middleRow'>
				<img class="fist" id="middleFist" src="/img/fist.png">
				<div class="bieberPit" id="bieberPitFour">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
				</div>
				<div class="bieberPit" id="bieberPitFive">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
					<div id="middleBlocker" class="blocker"></div>
				</div>
				<div class="bieberPit" id="bieberPitSix">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
				</div>
			</div>
			<div class="gameRow row center-block" id='bottomRow'>
				<img class="fist" id="bottomFist" src="/img/fist.png">
				<div class="bieberPit" id="bieberPitSeven">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
				</div>
				<div class="bieberPit" id="bieberPitEight">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
					<div id="bottomBlocker" class="blocker"></div>
				</div>
				<div class="bieberPit" id="bieberPitNine">
					<div class="topHalf"></div>
					<div class="bottomHalf"></div>
				</div>
			</div>
			<div class="menu row center-block">
				<div class="row">
					<p class="inputLabel">Your Score: </p> <input class="scoreNum" value="0">
				</div>
				<div class="row">
					<p class="inputLabel">Your Highest Score: </p><input class="highScoreNum" value="0">
				</div>
				<div class="row">
					<p class="inputLabel">Time Remaining: </p><input class="timer" value="30">
				</div>
		    	<button id="start" class="startBtn center-block">Click to start!</button>
		    </div>
		</div>
	</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script>

"use strict";
(function() {
			
    $(document).ready(function() {

    	//available biebers
	    var biebers = ['jb1', 'jb2', 'jb3', 'jb4'];

	    //available bieber pits
	    var bieberPits = ["#bieberPitOne", "#bieberPitTwo", "#bieberPitThree", "#bieberPitFour", "#bieberPitFive", "#bieberPitSix", "#bieberPitSeven", "#bieberPitEight", "#bieberPitNine"];

	    // the player's score
	    var score = 0

	    // The player's highest score
	    var highScore = 0

	    // Time left in round
	    var timer = 30

	    $('.resetBtn').hide();

	    // Hide the active Bieber
	    function hideTheBieber() {
	    	$('.activeBieber').animate({
		    		'top': '-40px'
		    	}, 500);
		    	setTimeout (function() {
		    		$('.activeBieber').remove();
		    	}, 500);
	    } //end hide active Bieber

	    // Show the current Bieber
	    function showTheBieber() {
	    	var bieber = biebers[Math.floor(Math.random()*biebers.length)];
	    	var bieberPit = bieberPits[Math.floor(Math.random()*bieberPits.length)];
	    	console.log('The new bieber is: ' + bieber)
	    	console.log('The new bieber pit is: ' + bieberPit)
	    	setTimeout (function() {
		    	$('<img class="activeBieber center-block" src="/img/' + bieber + '.png">').css('top', '-40px').appendTo(bieberPit).animate({
		    		'top': '-190px'
		    	}, 300);
		    }, 550);
	    } //end show current Bieber
	    
	    // Start button 
	    $('.startBtn').click(function(event) {
	    	//hide any active Biebers & the start button
	    	hideTheBieber();
	    	$('#start').hide();

	    	// set score to zero
	    	var score = 0;
	    	$('.scoreNum').val(0);
	    	
	    	// Put the current bieber in the current bieberPit
	    	showTheBieber();

	    	// Start the timer
	    	var timer = 30;
		    setInterval(function() {
	    		if (timer > 0) {
	    			timer--;
			    	$('.timer').val(timer);
	    		} 
	    	}, 1000);	
	    	
	    	setTimeout(function() {
	    		$('#start').show();
	    		hideTheBieber();
	    	}, 31000);
	    	$('.scoreNum').val(score);
	    });

	    // Bieber click listener
	    $('.bieberPit').on('click', '.activeBieber', function() {
	    	var score = $('.scoreNum').val();
	    	var highScore = $('.highScoreNum').val();
	    	var timer = $('.timer').val();
	    	var bieberPit = ($(this).parent().attr('id'));
	    	if (timer == 0)  {
	    		return
			} else {
				// Punch animation
		    	switch (bieberPit) {
					case "bieberPitOne":
		                $('#topFist').animate ({
		                	right : '320px'
		                }, 300);
		                setTimeout(function(){
		                	$('#topFist').animate ({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
					case "bieberPitTwo":
		                $('#topFist').animate({
		                	right : '150px'
		                }, 300);
		                setTimeout(function(){
		                	$('#topFist').animate ({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
					case "bieberPitThree":
		                $('#topFist').animate({
		                	right : '0px'
		                }, 300);
		                setTimeout(function(){
		                	$('#topFist').animate ({
			                	right : '-1000px'
			                }, 300)
		                }, 600);
						break;
					case "bieberPitFour":
		                $('#middleFist').animate({
		                	right : '320px'
		                }, 300);
		                setTimeout(function(){
		                	$('#middleFist').animate({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
					case "bieberPitFive":
		                $('#middleFist').animate({
		                	right : '150px'
		                }, 300);
		                setTimeout(function(){
		                	$('#middleFist').animate({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
					case "bieberPitSix":
		                $('#middleFist').animate({
		                	right : '0px'
		                }, 300);
		                setTimeout(function(){
		                	$('#middleFist').animate({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
					case "bieberPitSeven":
		                $('#bottomFist').animate({
		                	right : '320px'
		                }, 300);
		                setTimeout(function(){
		                	$('#bottomFist').animate({
		                		right : '-1000px'
		                	}, 300);
		                }, 600);
						break;
					case "bieberPitEight":
		                $('#bottomFist').animate({
		                	right : '150px'
		                }, 300);
		                setTimeout(function(){
			                $('#bottomFist').animate({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
					case "bieberPitNine":
		                $('#bottomFist').animate({
		                	right : '0px'
		                }, 300);
		                setTimeout(function(){
			                $('#bottomFist').animate({
			                	right : '-1000px'
			                }, 300);
		                }, 600);
						break;
				}; //End of Punch Animation

		    	// Punch sound
		    	setTimeout(function(){
		    		$('#punch').get(0).play();
		    	}, 180);

		    	// Knock down the bieber
		    	setTimeout(function(){
		    		hideTheBieber();
		    	}, 500);

		    	// Show a new bieber
		    	setTimeout(function(){
		    		showTheBieber();
		    	}, 501);
		    	// Add 1 to score
		    	score++
		    	$('.scoreNum').val(score);
		    	// High score logic
		    	if (score > highScore) {
		    	highScore++
					$('.highScoreNum').val(highScore);
    			};
		    };
	    }); //End of bieber click listener
    })
})();

</script>
</body>
</html>